{% extends('base.html.twig') %}
{% block title %}{{ parent() }} | Profil{% endblock %}
{% block body %}
    <h1 class="display-4">MON PROFIL</h1>
    <hr class="my-3">
    <div class="container">
        {% for label, messages in app.flashes %}
            <div class="alert alert-{{ label }}" role="alert">
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
            </div>
        {% endfor %}

        <div class="row">
            <div class="col-12 col-lg-3 pb-3">
                {% if not utilisateur.image is empty %}
                    <img src="{{ asset('Files/' ~ utilisateur.image)  }}" class="img-thumbnail mx-auto d-block" height="250" width="250">
                {% else %}
                    <img src="{{ asset('img/avatar.png')  }}" class="img-thumbnail mx-auto d-block" height="250" width="250">
                {% endif %}
            </div>

            <div class="col-12 col-lg-9">
                {{ form_start(formPhoto) }}
                {{ form_errors(formPhoto) }}
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Photo:</div>
                    <div class="col-12 col-md-8">
                        <div class="input-group">
                            <div class="custom-file">
                                {{ form_widget(formPhoto.file, {'attr': {'class': 'custom-file-input', 'accept': 'image/*'}}) }}
                                <label class="custom-file-label2" for="customFile">Choisir une image</label>
                            </div>
                            <div class="input-group-append">
                                {{ form_widget(formPhoto.submit, {'attr': {'class': 'btn btn-secondary font-weight-bold'}}) }}
                            </div>
                        </div>
                    </div>
                </div>
                {{ form_end(formPhoto) }}

                {{ form_start(form) }}
                {{ form_errors(form) }}
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Pseudo:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.pseudo) }}
                        {{ form_errors(form.pseudo) }}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Prénom:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.prenom) }}
                        {{ form_errors(form.prenom) }}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Nom:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.nom) }}
                        {{ form_errors(form.nom) }}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Téléphone:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.telephone) }}
                        {{ form_errors(form.telephone) }}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Mail:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.mail) }}
                        {{ form_errors(form.mail) }}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Site:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.site) }}
                        {{ form_errors(form.site) }}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Mot de passe:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.passwordPlain.first) }}
                        {{ form_errors(form.passwordPlain.first) }}
                    </div>
                </div>
                <div class="row">
                    <div class="font-weight-bold col-12 col-md-4 m-auto">Confirmation:</div>
                    <div class="col-12 col-md-8">
                        {{ form_widget(form.passwordPlain.second) }}
                        {{ form_errors(form.passwordPlain.second) }}
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-12 col-sm-6 pb-3">
                {{ form_widget(form.submit, {'attr': {'class': 'btn btn-block btn-success font-weight-bold'}}, {'label': 'Enregister'}) }}
            </div>
            <div class="col-12 col-sm-6">
                <a href="{{ path('home') }}" class="btn btn-block btn-danger font-weight-bold">Annuler</a>
            </div>
        </div>
        {{ form_end(form) }}
    </div>
{% endblock %}